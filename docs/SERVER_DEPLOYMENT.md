# è¿œç¨‹éƒ¨ç½²æŒ‡å—

æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•å°†å¥åº·æé†’ MCP ç³»ç»Ÿéƒ¨ç½²åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šã€‚

## ğŸ“– ä»€ä¹ˆæ˜¯è¿œç¨‹éƒ¨ç½²ï¼Ÿ

**è¿œç¨‹éƒ¨ç½²**æ˜¯æŒ‡å°† MCP Server éƒ¨ç½²åœ¨è¿œç¨‹æœåŠ¡å™¨ï¼ˆäº‘æœåŠ¡å™¨ï¼‰ä¸Šï¼Œè€Œä¸æ˜¯åœ¨æœ¬åœ°ç”µè„‘ä¸Šè¿è¡Œã€‚

### æœ¬åœ°éƒ¨ç½² vs è¿œç¨‹éƒ¨ç½²

| ç‰¹æ€§ | æœ¬åœ°éƒ¨ç½² | è¿œç¨‹éƒ¨ç½² |
|-----|---------|---------|
| **è¿è¡Œä½ç½®** | æœ¬åœ°ç”µè„‘ | è¿œç¨‹æœåŠ¡å™¨ |
| **ç½‘ç»œä¾èµ–** | ä¸éœ€è¦ | éœ€è¦ç½‘ç»œè¿æ¥ |
| **æœåŠ¡å™¨æˆæœ¬** | å…è´¹ | éœ€è¦ç§Ÿç”¨æœåŠ¡å™¨ |
| **å¯è®¿é—®æ€§** | ä»…æœ¬æœº | å¯å¤šè®¾å¤‡è®¿é—® |
| **ç¨³å®šæ€§** | ä¾èµ–æœ¬æœºè¿è¡Œ | 7Ã—24 å°æ—¶è¿è¡Œ |
| **ç»´æŠ¤éš¾åº¦** | ç®€å• | éœ€è¦æœåŠ¡å™¨ç®¡ç†çŸ¥è¯† |

## âš ï¸ é‡è¦è¯´æ˜

> **æ³¨æ„**ï¼šå¥åº·æé†’ç³»ç»Ÿä¾èµ–äº**ç³»ç»Ÿé€šçŸ¥**åŠŸèƒ½ï¼Œè€Œè¿œç¨‹æœåŠ¡å™¨é€šå¸¸æ²¡æœ‰æ¡Œé¢ç¯å¢ƒå’Œé€šçŸ¥ç³»ç»Ÿã€‚
> 
> **è¿œç¨‹éƒ¨ç½²é€‚ç”¨äºä»¥ä¸‹åœºæ™¯**ï¼š
> 1. ä½œä¸º API æœåŠ¡ä¾›å…¶ä»–åº”ç”¨è°ƒç”¨
> 2. é€šè¿‡ Web æ¥å£æˆ–ç§»åŠ¨åº”ç”¨æ¥æ”¶æé†’
> 3. ä½¿ç”¨å…¶ä»–é€šçŸ¥æ–¹å¼ï¼ˆé‚®ä»¶ã€çŸ­ä¿¡ã€Webhookï¼‰
> 
> **å¦‚æœåªæ˜¯ä¸ªäººä½¿ç”¨ï¼Œå»ºè®®ä½¿ç”¨æœ¬åœ°éƒ¨ç½²ã€‚**

## ğŸ¯ é€‚ç”¨åœºæ™¯

### é€‚åˆè¿œç¨‹éƒ¨ç½²
- âœ… å›¢é˜Ÿå…±äº«æé†’æœåŠ¡
- âœ… å¤šè®¾å¤‡åŒæ­¥æé†’
- âœ… éœ€è¦ 7Ã—24 å°æ—¶è¿è¡Œ
- âœ… é€šè¿‡ Web/App æ¥æ”¶é€šçŸ¥
- âœ… é›†æˆåˆ°å…¶ä»–ç³»ç»Ÿ

### ä¸é€‚åˆè¿œç¨‹éƒ¨ç½²
- âŒ ä¸ªäººä½¿ç”¨ç³»ç»Ÿé€šçŸ¥
- âŒ ç®€å•çš„æ¡Œé¢æé†’
- âŒ ç¦»çº¿ä½¿ç”¨éœ€æ±‚

## ğŸš€ è¿œç¨‹éƒ¨ç½²æ­¥éª¤

### å‡†å¤‡å·¥ä½œ

#### 1. æœåŠ¡å™¨è¦æ±‚

**æœ€ä½é…ç½®ï¼š**
- CPU: 1 æ ¸
- å†…å­˜: 512 MB
- å­˜å‚¨: 10 GB
- æ“ä½œç³»ç»Ÿ: Ubuntu 20.04+ / CentOS 7+ / Debian 10+
- Node.js: 18.x æˆ–æ›´é«˜ç‰ˆæœ¬

**æ¨èæœåŠ¡å™¨æä¾›å•†ï¼š**
- é˜¿é‡Œäº‘ï¼ˆå›½å†…ï¼‰
- è…¾è®¯äº‘ï¼ˆå›½å†…ï¼‰
- AWSï¼ˆå›½é™…ï¼‰
- DigitalOceanï¼ˆå›½é™…ï¼‰
- Vultrï¼ˆå›½é™…ï¼‰

#### 2. æ‰€éœ€è½¯ä»¶

- Node.js 18+
- npm æˆ– yarn
- Git
- PM2ï¼ˆè¿›ç¨‹ç®¡ç†å™¨ï¼‰
- Nginxï¼ˆå¯é€‰ï¼Œç”¨äºåå‘ä»£ç†ï¼‰

---

## ğŸ“ è¯¦ç»†éƒ¨ç½²æµç¨‹

### æ­¥éª¤ 1ï¼šè¿æ¥åˆ°æœåŠ¡å™¨

```bash
# ä½¿ç”¨ SSH è¿æ¥åˆ°æœåŠ¡å™¨
ssh root@your-server-ip

# æˆ–ä½¿ç”¨å¯†é’¥
ssh -i your-key.pem root@your-server-ip
```

### æ­¥éª¤ 2ï¼šå®‰è£… Node.js

```bash
# Ubuntu/Debian
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# CentOS
curl -fsSL https://rpm.nodesource.com/setup_18.x | sudo bash -
sudo yum install -y nodejs

# éªŒè¯å®‰è£…
node --version
npm --version
```

### æ­¥éª¤ 3ï¼šå®‰è£… PM2

```bash
# å…¨å±€å®‰è£… PM2
npm install -g pm2

# éªŒè¯å®‰è£…
pm2 --version
```

### æ­¥éª¤ 4ï¼šä¸Šä¼ é¡¹ç›®åˆ°æœåŠ¡å™¨

#### æ–¹å¼ 1ï¼šä½¿ç”¨ Gitï¼ˆæ¨èï¼‰

```bash
# åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºé¡¹ç›®ç›®å½•
mkdir -p /opt/mcp-servers
cd /opt/mcp-servers

# å…‹éš†é¡¹ç›®ï¼ˆå¦‚æœå·²æ¨é€åˆ° Git ä»“åº“ï¼‰
git clone https://github.com/your-repo/health-reminder-mcp.git
cd health-reminder-mcp

# æˆ–è€…ä»æœ¬åœ°ä¸Šä¼ 
# åœ¨æœ¬åœ°ç”µè„‘æ‰§è¡Œ
scp -r C:\Users\WB-bw0017\Desktop\MyMCP\health root@your-server-ip:/opt/mcp-servers/
```

#### æ–¹å¼ 2ï¼šä½¿ç”¨ SCP ä¸Šä¼ 

```bash
# åœ¨æœ¬åœ° PowerShell æ‰§è¡Œ
scp -r C:\Users\WB-bw0017\Desktop\MyMCP\health root@your-server-ip:/opt/mcp-servers/
```

#### æ–¹å¼ 3ï¼šä½¿ç”¨ FTP å·¥å…·

ä½¿ç”¨ WinSCPã€FileZilla ç­‰å·¥å…·ä¸Šä¼ æ•´ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹ã€‚

### æ­¥éª¤ 5ï¼šå®‰è£…ä¾èµ–å’Œç¼–è¯‘

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/mcp-servers/health

# å®‰è£…ä¾èµ–
npm install

# ç¼–è¯‘é¡¹ç›®
npm run build

# ç¡®è®¤ç¼–è¯‘æˆåŠŸ
ls -la dist/server/
```

### æ­¥éª¤ 6ï¼šé…ç½®æœåŠ¡å™¨ç¯å¢ƒ

åˆ›å»ºç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼š

```bash
# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano /opt/mcp-servers/health/config.production.json
```

å†…å®¹ç¤ºä¾‹ï¼š

```json
{
  "reminder": {
    "interval": 30,
    "message": "è¯¥èµ·èº«æ´»åŠ¨ä¸€ä¸‹äº†ï¼",
    "title": "å¥åº·æé†’",
    "sound": true
  },
  "server": {
    "host": "0.0.0.0",
    "port": 3000,
    "logLevel": "info"
  }
}
```

### æ­¥éª¤ 7ï¼šä½¿ç”¨ PM2 å¯åŠ¨æœåŠ¡

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/mcp-servers/health

# ä½¿ç”¨ PM2 å¯åŠ¨
pm2 start dist/server/index.js --name health-reminder-mcp

# è®¾ç½®å¼€æœºè‡ªå¯åŠ¨
pm2 startup
pm2 save

# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs health-reminder-mcp

# ç›‘æ§
pm2 monit
```

### æ­¥éª¤ 8ï¼šé…ç½®é˜²ç«å¢™

```bash
# Ubuntu/Debian (UFW)
sudo ufw allow 3000/tcp
sudo ufw reload

# CentOS (firewalld)
sudo firewall-cmd --permanent --add-port=3000/tcp
sudo firewall-cmd --reload
```

### æ­¥éª¤ 9ï¼šé…ç½® Nginx åå‘ä»£ç†ï¼ˆå¯é€‰ï¼‰

```bash
# å®‰è£… Nginx
sudo apt-get install nginx  # Ubuntu/Debian
sudo yum install nginx      # CentOS

# åˆ›å»ºé…ç½®æ–‡ä»¶
sudo nano /etc/nginx/sites-available/health-reminder
```

Nginx é…ç½®ç¤ºä¾‹ï¼š

```nginx
server {
    listen 80;
    server_name your-domain.com;  # æ›¿æ¢ä¸ºä½ çš„åŸŸå

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
```

å¯ç”¨é…ç½®ï¼š

```bash
# åˆ›å»ºè½¯é“¾æ¥
sudo ln -s /etc/nginx/sites-available/health-reminder /etc/nginx/sites-enabled/

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡å¯ Nginx
sudo systemctl restart nginx
```

### æ­¥éª¤ 10ï¼šé…ç½® SSLï¼ˆHTTPSï¼‰

```bash
# å®‰è£… Certbot
sudo apt-get install certbot python3-certbot-nginx

# è·å– SSL è¯ä¹¦
sudo certbot --nginx -d your-domain.com

# è‡ªåŠ¨ç»­æœŸ
sudo certbot renew --dry-run
```

---

## ğŸ”§ å®¢æˆ·ç«¯è¿æ¥é…ç½®

### æ–¹å¼ 1ï¼šé€šè¿‡ HTTP/HTTPS è¿æ¥

ä¿®æ”¹ Cursor çš„ MCP é…ç½®ï¼ˆ`mcp.json`ï¼‰ï¼š

```json
{
  "mcpServers": {
    "health-reminder": {
      "command": "node",
      "args": [
        "-e",
        "require('@modelcontextprotocol/sdk').connect('https://your-domain.com/mcp')"
      ],
      "env": {}
    }
  }
}
```

### æ–¹å¼ 2ï¼šé€šè¿‡ SSH éš§é“è¿æ¥

```json
{
  "mcpServers": {
    "health-reminder": {
      "command": "ssh",
      "args": [
        "-L", "3000:localhost:3000",
        "root@your-server-ip",
        "cd /opt/mcp-servers/health && node dist/server/index.js"
      ]
    }
  }
}
```

### æ–¹å¼ 3ï¼šä¿®æ”¹ä¸º WebSocket è¿æ¥

éœ€è¦ä¿®æ”¹æœåŠ¡å™¨ä»£ç ä»¥æ”¯æŒ WebSocketï¼ˆéœ€è¦é¢å¤–å¼€å‘ï¼‰ã€‚

---

## ğŸ“Š æœåŠ¡å™¨ç®¡ç†å‘½ä»¤

### PM2 å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹
pm2 list

# æŸ¥çœ‹ç‰¹å®šè¿›ç¨‹çŠ¶æ€
pm2 show health-reminder-mcp

# æŸ¥çœ‹æ—¥å¿—
pm2 logs health-reminder-mcp
pm2 logs health-reminder-mcp --lines 100

# é‡å¯æœåŠ¡
pm2 restart health-reminder-mcp

# åœæ­¢æœåŠ¡
pm2 stop health-reminder-mcp

# åˆ é™¤æœåŠ¡
pm2 delete health-reminder-mcp

# ç›‘æ§
pm2 monit

# æ¸…ç©ºæ—¥å¿—
pm2 flush
```

### æ›´æ–°éƒ¨ç½²

```bash
# 1. æ‹‰å–æœ€æ–°ä»£ç 
cd /opt/mcp-servers/health
git pull

# 2. é‡æ–°å®‰è£…ä¾èµ–ï¼ˆå¦‚æœ‰å˜åŒ–ï¼‰
npm install

# 3. é‡æ–°ç¼–è¯‘
npm run build

# 4. é‡å¯æœåŠ¡
pm2 restart health-reminder-mcp
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# PM2 æ—¥å¿—
pm2 logs health-reminder-mcp

# ç³»ç»Ÿæ—¥å¿—
journalctl -u nginx
tail -f /var/log/nginx/error.log
```

---

## ğŸ›¡ï¸ å®‰å…¨å»ºè®®

### 1. æœåŠ¡å™¨å®‰å…¨

```bash
# åˆ›å»ºé root ç”¨æˆ·
adduser mcpuser
usermod -aG sudo mcpuser

# ç¦ç”¨ root SSH ç™»å½•
sudo nano /etc/ssh/sshd_config
# ä¿®æ”¹: PermitRootLogin no
sudo systemctl restart sshd

# é…ç½®é˜²ç«å¢™
sudo ufw enable
sudo ufw allow 22/tcp   # SSH
sudo ufw allow 80/tcp   # HTTP
sudo ufw allow 443/tcp  # HTTPS
```

### 2. è®¿é—®æ§åˆ¶

```bash
# é™åˆ¶ IP è®¿é—®ï¼ˆNginxï¼‰
location / {
    allow 192.168.1.0/24;  # å…è®¸ç‰¹å®š IP æ®µ
    deny all;               # æ‹’ç»å…¶ä»–æ‰€æœ‰
    proxy_pass http://localhost:3000;
}
```

### 3. ç¯å¢ƒå˜é‡ç®¡ç†

```bash
# ä½¿ç”¨ PM2 ç”Ÿæ€ç³»ç»Ÿæ–‡ä»¶
pm2 ecosystem
```

ç¼–è¾‘ `ecosystem.config.js`ï¼š

```javascript
module.exports = {
  apps: [{
    name: 'health-reminder-mcp',
    script: './dist/server/index.js',
    env: {
      NODE_ENV: 'production',
      REMINDER_INTERVAL: '30',
      REMINDER_MESSAGE: 'è¯¥èµ·èº«æ´»åŠ¨äº†ï¼'
    }
  }]
}

// ä½¿ç”¨é…ç½®å¯åŠ¨
pm2 start ecosystem.config.js
```

---

## ğŸ” æ•…éšœæ’æŸ¥

### æœåŠ¡æ— æ³•å¯åŠ¨

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
sudo lsof -i :3000
sudo netstat -tlnp | grep 3000

# æ£€æŸ¥ Node.js ç‰ˆæœ¬
node --version

# æ£€æŸ¥æƒé™
ls -la /opt/mcp-servers/health/dist/server/

# æ‰‹åŠ¨è¿è¡ŒæŸ¥çœ‹é”™è¯¯
cd /opt/mcp-servers/health
node dist/server/index.js
```

### æ— æ³•è¿æ¥

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
pm2 status
pm2 logs health-reminder-mcp

# æ£€æŸ¥é˜²ç«å¢™
sudo ufw status
sudo firewall-cmd --list-all

# æµ‹è¯•ç«¯å£
telnet your-server-ip 3000
curl http://your-server-ip:3000
```

### å†…å­˜ä¸è¶³

```bash
# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
free -h
pm2 monit

# é™åˆ¶å†…å­˜ä½¿ç”¨
pm2 start dist/server/index.js --name health-reminder-mcp --max-memory-restart 200M
```

---

## ğŸ’° æˆæœ¬ä¼°ç®—

### æœåŠ¡å™¨æˆæœ¬ï¼ˆæœˆä»˜ï¼‰

| æä¾›å•† | é…ç½® | ä»·æ ¼ |
|-------|-----|------|
| é˜¿é‡Œäº‘ | 1æ ¸ 1GB | Â¥50-100 |
| è…¾è®¯äº‘ | 1æ ¸ 2GB | Â¥60-120 |
| AWS | t2.micro | $8-15 |
| DigitalOcean | Basic Droplet | $5-10 |
| Vultr | 1æ ¸ 1GB | $5-10 |

### åŸŸåæˆæœ¬ï¼ˆå¹´ä»˜ï¼‰

- .com åŸŸåï¼šÂ¥50-100/å¹´
- .cn åŸŸåï¼šÂ¥30-80/å¹´

### SSL è¯ä¹¦

- Let's Encryptï¼šå…è´¹
- å•†ä¸šè¯ä¹¦ï¼šÂ¥100-1000/å¹´

---

## ğŸ¯ æ¨èæ–¹æ¡ˆ

### ä¸ªäººä½¿ç”¨

**å»ºè®®ï¼šæœ¬åœ°éƒ¨ç½²**
- å…è´¹
- é…ç½®ç®€å•
- æ— éœ€æœåŠ¡å™¨ç®¡ç†

### å°å›¢é˜Ÿï¼ˆ3-10äººï¼‰

**å»ºè®®ï¼šä½é…æœåŠ¡å™¨**
- é˜¿é‡Œäº‘/è…¾è®¯äº‘ 1æ ¸2GB
- ä½¿ç”¨ PM2 ç®¡ç†
- é…ç½®ç®€å•çš„é˜²ç«å¢™

### ä¸­å¤§å‹å›¢é˜Ÿï¼ˆ10äººä»¥ä¸Šï¼‰

**å»ºè®®ï¼šæ ‡å‡†é…ç½®**
- 2æ ¸4GB æœåŠ¡å™¨
- Nginx åå‘ä»£ç†
- HTTPS åŠ å¯†
- æ—¥å¿—ç›‘æ§
- è´Ÿè½½å‡è¡¡ï¼ˆå¯é€‰ï¼‰

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æœ¬åœ°éƒ¨ç½²æŒ‡å—](./CURSOR_SETUP.md)
- [é…ç½®è¯´æ˜](./CONFIGURATION.md)
- [API æ–‡æ¡£](./API.md)
- [æ•…éšœæ’æŸ¥](./TROUBLESHOOTING.md)

---

## â“ å¸¸è§é—®é¢˜

### 1. è¿œç¨‹éƒ¨ç½²åé€šçŸ¥è¿˜èƒ½æ˜¾ç¤ºå—ï¼Ÿ

ä¸èƒ½ã€‚è¿œç¨‹æœåŠ¡å™¨æ²¡æœ‰æ¡Œé¢ç¯å¢ƒï¼Œæ— æ³•æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥ã€‚éœ€è¦ä¿®æ”¹ä»£ç ä»¥æ”¯æŒå…¶ä»–é€šçŸ¥æ–¹å¼ï¼ˆé‚®ä»¶ã€çŸ­ä¿¡ã€Webhookã€æ¨é€é€šçŸ¥ç­‰ï¼‰ã€‚

### 2. å¯ä»¥åŒæ—¶è¿æ¥å¤šä¸ªå®¢æˆ·ç«¯å—ï¼Ÿ

å¯ä»¥ï¼Œä½†éœ€è¦ä¿®æ”¹æœåŠ¡å™¨ä»£ç ä»¥æ”¯æŒå¤šå®¢æˆ·ç«¯è¿æ¥ã€‚å½“å‰ç‰ˆæœ¬æ˜¯å•è¿æ¥è®¾è®¡ã€‚

### 3. éœ€è¦å…¬ç½‘ IP å—ï¼Ÿ

- å¦‚æœéœ€è¦ä»å¤–ç½‘è®¿é—®ï¼šéœ€è¦å…¬ç½‘ IP
- å¦‚æœåªåœ¨å†…ç½‘ä½¿ç”¨ï¼šä¸éœ€è¦å…¬ç½‘ IP

### 4. å¯ä»¥ä½¿ç”¨äº‘å‡½æ•°ï¼ˆServerlessï¼‰éƒ¨ç½²å—ï¼Ÿ

ç†è®ºä¸Šå¯ä»¥ï¼Œä½†ä¸æ¨èã€‚å› ä¸ºï¼š
- å®šæ—¶ä»»åŠ¡éœ€è¦æŒç»­è¿è¡Œ
- äº‘å‡½æ•°æœ‰è¶…æ—¶é™åˆ¶
- æˆæœ¬å¯èƒ½æ›´é«˜

### 5. æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ

å½“å‰ç‰ˆæœ¬æ²¡æœ‰æŒä¹…åŒ–å­˜å‚¨ã€‚å¦‚éœ€å­˜å‚¨æ•°æ®ï¼Œå¯ä»¥é›†æˆï¼š
- SQLiteï¼ˆæœ¬åœ°æ•°æ®åº“ï¼‰
- MySQL/PostgreSQLï¼ˆå…³ç³»å‹æ•°æ®åº“ï¼‰
- Redisï¼ˆç¼“å­˜ï¼‰
- MongoDBï¼ˆæ–‡æ¡£æ•°æ®åº“ï¼‰

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
1. [é¡¹ç›® README](../README.md)
2. [é…ç½®æ–‡æ¡£](./CONFIGURATION.md)
3. [GitHub Issues](https://github.com/your-repo/issues)

---

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼** ğŸš€

